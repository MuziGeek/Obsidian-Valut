---
title: {{VALUE:title}}
date: {{DATE:YYYY-MM-DD HH:mm:ss}}
updated: {{DATE:YYYY-MM-DD HH:mm:ss}}
categories: {{VALUE:cate}}
tags:
   - [ ] {{task}} 
top: {{VALUE:1,2,3,4,5,6,7,8,9}}
---
**2025-01-07**🌱上海: ☀️   🌡️+5°C 🌬️↘5km/h
## Redis 中的 Big Key 问题是什么？如何解决？

### 什么是bigkey？


| **名词** | **解释**                       | **举例**                                                                                                                                                                                  |
| ------ | ---------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 大 Key  | 通常以 Key 的大小和 Key 中成员的数量来综合判定 | - Key 本身的数据量过大。例如，一个 String 类型的 Key，它的值为 5 MB；<br>- Key 中的成员数过多。例如，一个 ZSET 类型的 Key，它的成员数量为 10,000 个；<br>- Key 中成员的数据量过大。例如，一个 Hash 类型的 Key，它的成员数量虽然只有 2,000 个但这些成员的 Value（值）总大小为 100 MB |

### 它有什么危害？

- 集群模式下大 key 映射到一个实例会导致内存分布不均，影响查询效率。
- Redis 单线程执行命令，操作大 key 耗时久，会使其他命令阻塞。
- 大 key 占用资源多，网络 I/O 传输时流量大，会延长网络传输时间甚至阻塞，如一个 2MB 的 key 请求 1000 次达 2000MB。
- 操作大 key 耗时长可能导致客户端等待超时。

**todo后续扩展继续补充 。**